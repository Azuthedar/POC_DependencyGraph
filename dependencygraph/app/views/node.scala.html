@*(nodes : scala.collection.mutable.Map[String, graph.Node])*@
@(nodes : play.api.libs.json.JsValue)

<!DOCTYPE html>
<html lang="en">
	<meta charset="UTF-8">
	<title>Nodes</title>
	<link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/node.css")">
	<script type="text/javascript" src="@routes.Assets.versioned("javascripts/raphael.min.js")"></script>
	
</head>
<body>
    <script type="text/javascript" src="@routes.Assets.versioned("javascripts/dracula.min.js")"></script>
	<div id="canvas"></div>
	<script type="text/javascript" src="@routes.Assets.versioned("javascripts/main.js")"></script>
	<script>
		drawGraph(JSON.stringify("@nodes"));
	</script>
	@* <!-- @for(parentNode <- nodes) {
		<table>
			<tbody>
				<tr>
					@if(parentNode._2._outputs.nonEmpty) {
						<td class="outputNodes">
						@for(outputNode <- parentNode._2._outputs) {
							@outputNode._id
							</br>
						}
						</td>
					}

					<td class="parentNodes"><a href="@routes.NodeController.nodeDetails(parentNode._2._id)"><strong>@parentNode._2._id</strong></a></td>

					@if(parentNode._2._sources.nonEmpty) {
						<td class="sourceNodes">
						@for(sourceNode <- parentNode._2._sources) {
							@sourceNode._id
							</br>
						}
						</td>
					}

					@if(parentNode._2.hasDependencies) {
						<tr>
							@if(parentNode._2._outputs.nonEmpty) {
								<td></td>
							}
							<td class="dependencyNodes">
							Dependencies: <br />
							@for(dependencyNode <- parentNode._2._dependencies) {
								@dependencyNode._2._id
								<br />
							}
							</td>
						</tr>
					}
				</tr>
			</tbody>
		</table>
		</br>
	}  --> *@
</body>
</html>